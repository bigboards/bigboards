---
- hosts: local
  tasks:

    - name: make sure tint file is on site
      copy:
        src: "tint.yml"
        dest: "/tmp/_tint.yml"

    - name: delete the lines in tint.yaml containing ansible variables
      lineinfile:
        dest: "/tmp/_tint.yml"
        create: "yes"
        regexp: '\{\{(.*)\}\}' #REMARK: must be single quotes here to allow escape characters
        state: "absent"

#    - name: replace variables within tint.yml to ansible format
#      shell: sed "s/\{\{\(\.*\)\}\}/\{\{ \1 \}\}/g" <"/tmp/tint.yml" >"/tmp/_tint.yml"

    - name: be sure the workfile with tint metadata file is sourced
      include_vars: "/tmp/_tint.yml"

    - name: echo tint metadata to test sourcing
      debug:
        var: "stack.views[0].url"
