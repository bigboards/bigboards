<bb-header>{{tint.name}}</bb-header>

<div class="row-fluid">
    <div class="span4">
        <div class="card">
            <!--<h3 class="card-heading simple">{{tint.name}}</h3>-->
            <div class="card-body">
                <p>This hex is currently configured to run the <strong>{{tint.name}}</strong> tint, created by {{tint.owner}}. It provides {{tint.description}}</p>
                <!--<p>You may choose to set this tint to your hand by setting specific configuration settings.</p>-->
            </div>
            <div class="card-actions">

            </div>
        </div>

        <div class="card" ng-show="currentAction">
            <h3 class="card-heading simple">{{actionState}} {{currentAction.label}}</h3>
            <div class="card-body">
                <div ng-show="actionState == 'executing'">
                    The action to {{currentAction.description}} is currently being executed on the hex. It will take a few moments for the results of the action to become
                    available.
                </div>

                <div class="feedback" ng-show="actionState == 'completed'">
                    <ul>
                        <li ng-repeat="(play, tasks) in feedback.parsed">
                            {{play}}
                            <ul>
                                <li ng-repeat="(task, nodes) in tasks">
                                    {{task}}
                                    <ul>
                                        <li ng-repeat="(node, status) in nodes">
                                            <span class="label label-success" ng-class="getStatusLabelType(status)">{{getStatusLabelText(status)}}</span>
                                            {{node}}
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="error" ng-show="actionState == 'failed'">
                    <span class="label label-important">Failed!</span> The operation failed to execute on the hex.
                </div>
            </div>
            <div class="card-actions">
                <button type="button" class="btn" ng-show="actionState == 'completed' || actionState == 'failed'" ng-click="currentAction = null">Close</button>
            </div>
        </div>
    </div>

    <div ng-if="tint.actions">
        <h3>Actions</h3>

        <table class="table">
            <thead>
            <tr>
                <th class="col-sm-1">label</th>
                <th>description</th>
                <th class="col-sm-1"></th>
            </tr>
            </thead>
            <tr ng-repeat="action in tint.actions">
                <td>{{action.label}}</td>
                <td>{{action.description}}</td>
                <td>
                    <a ng-click="invokeAction(action)" class="btn btn-xs btn-default">
                        <i class="fa fa-bolt"></i>
                    </a>
                </td>
            </tr>
        </table>
    </div>

    <div ng-if="tint.views">
        <h3>Views</h3>

        <table class="table">
            <thead>
            <tr>
                <th class="col-sm-1">label</th>
                <th>description</th>
                <th class="col-sm-1"></th>
            </tr>
            </thead>
            <tr ng-repeat="view in tint.views">
                <td>{{view.label}}</td>
                <td>{{view.description}}</td>
                <td>
                    <a href="{{view.url | externalIp}}" target="_blank" class="btn btn-xs btn-default">
                        <i class="fa fa-eye"></i>
                    </a>
                </td>
            </tr>
        </table>
    </div>
</div>