<bb-header title="'Stack Tint'"></bb-header>

<bb-content>
    <div class="container-fluid stack-detail">
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Stack Information</h3>
                    </div>
                    <div class="panel-body">
                        <p>
                            This hex is currently configured to run <strong>{{ stack.name }}</strong>. It has been created
                            by <strong>{{ stack.owner }}</strong> to provide you with {{ stack.description }}.
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Actions</h3>
                    </div>
                    <table ng-if="stack.actions" class="table">
                        <thead>
                        <tr>
                            <th class="col-sm-1">label</th>
                            <th>description</th>
                            <th class="col-sm-1"></th>
                        </tr>
                        </thead>
                        <tr ng-repeat="action in stack.actions">
                            <td>{{action.label}}</td>
                            <td>{{action.description}}</td>
                            <td>
                                <a ng-click="invokeAction(action)" class="btn btn-xs btn-default">
                                    <i class="fa fa-play-circle-o"></i>
                                </a>
                            </td>
                        </tr>
                    </table>
                    <div ng-if="!stack.actions" class="panel-body">
                        <p>There are no actions configured for this stack</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Views</h3>
                    </div>
                    <table ng-if="stack.views" class="table">
                        <thead>
                        <tr>
                            <th class="col-sm-1">label</th>
                            <th>description</th>
                            <th class="col-sm-1"></th>
                        </tr>
                        </thead>
                        <tr ng-repeat="view in stack.views">
                            <td>{{view.label}}</td>
                            <td>{{view.description}}</td>
                            <td>
                                <a href="{{view.url | externalIp}}" target="_blank" class="btn btn-xs btn-default">
                                    <i class="fa fa-eye"></i>
                                </a>
                            </td>
                        </tr>
                    </table>
                    <div ng-if="!stack.views" class="panel-body">
                        <p>There are no views configured for this stack</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Role mapping</h3>
                    </div>
                    <table class="table">
                        <thead>
                        <tr>
                            <th class="col-sm-4">role</th>
                            <th>hosts</th>
                        </tr>
                        </thead>
                        <tr ng-repeat="mapping in stack.mappings">
                            <td>{{ mapping.role }}</td>
                            <td>
                                <span ng-repeat="host in mapping.hosts"><span ng-if="$index != 0">, </span>{{ host }}</span>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</bb-content>